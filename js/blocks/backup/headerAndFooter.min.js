"use strict";function _createForOfIteratorHelper(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return u=e.done,e},e:function(e){i=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}if(window.innerWidth<1200){var burger=document.querySelector(".burger"),burgerMenu=document.querySelector(".burger-menu"),isBurgerShown=!1,burgerContent=[".socials",".header-email",".header-phone",".hero-learning"];document.querySelector(".burger-nav").appendChild(document.querySelector(".nav-list")),burgerContent.map((function(e){document.querySelector(".burger-contacts").appendChild(document.querySelector(e))}));var showBurger=function(){burger.classList.add("burger--shown"),burgerMenu.classList.add("burger-menu--shown"),isBurgerShown=!0,document.querySelector("html").classList.add("pop-opened--html"),document.querySelector(".header-wrapper").classList.add("header--burger-shown")},hideBurger=function(){burger.classList.remove("burger--shown"),burgerMenu.classList.remove("burger-menu--shown"),isBurgerShown=!1,document.querySelector("html").classList.remove("pop-opened--html"),document.querySelector(".header").classList.remove("header--burger-shown")};burger.addEventListener("click",(function(){isBurgerShown?hideBurger():showBurger()}))}popa({clickTrigger:".footer_get-contacts",popWrap:".consult-pop-wrap",pop:".consult-pop",popCloser:".pop-closer"});var offsetOld,offsetNew,header=document.querySelector(".header-wrapper");if(document.addEventListener("scroll",(function(){(offsetNew=window.pageYOffset)<offsetOld&&null!=offsetOld?(console.log("Шапка появилась"),setTimeout((function(){header.classList.remove("header--hidden"),header.classList.add("header--visible")}),500)):setTimeout((function(){header.classList.remove("header--visible"),header.classList.add("header--hidden")}),100),offsetOld=window.pageYOffset})),setTimeout((function(){_toConsumableArray(document.querySelectorAll(".input--phone")).map((function(e){e.addEventListener("keydown",(function(e){"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"Backspace"!=e.key&&"Tab"!=e.key&&e.preventDefault();var r="+7 (111) 111-11-11";if(/[0-9\+\ \-\(\)]/.test(e.key)){var t=this.value,o=t.length;if(/[0-9]/.test(e.key))if("1"==r[o])this.value=t+e.key;else for(var n=o;n<r.length;n++){if("1"==r[n]){this.value=t+e.key;break}t+=r[n]}}}))}))}),3e3),window.innerWidth<1200){var footer=document.querySelector(".footer");footer.appendChild(document.querySelector(".footer-copyright")),document.querySelector(".footer-top__content").appendChild(footer.querySelector(".footer-contact--phone")),document.querySelector(".footer-top__content").appendChild(footer.querySelector(".footer_get-contacts")),document.querySelector(".footer-copyright").removeChild(footer.querySelector(".footer-copyright br"))}var lazyYmap=function(){document.querySelector(".form-map");var e=!1;!function(){if(!e){var r=document.querySelector(".ym-lazy");e=!0,r.setAttribute("src",r.getAttribute("data-src")),r.removeAttribute("data_src"),console.log("Ym loaded")}}()};setTimeout((function(){lazyYmap()}),mapsDelay);var _step,anchors=document.querySelectorAll('a[href*="#"]'),_iterator=_createForOfIteratorHelper(anchors);try{var _loop=function(){var e=_step.value;e.addEventListener("click",(function(r){r.preventDefault();var t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}))};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(e){_iterator.e(e)}finally{_iterator.f()}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2Nrcy9oZWFkZXJBbmRGb290ZXIuanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibGVuZ3RoIiwiaSIsIkYiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsImUiLCJfZSIsImYiLCJUeXBlRXJyb3IiLCJlcnIiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwic3RlcCIsIm5leHQiLCJfZTIiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiaXRlciIsImxlbiIsImFycjIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyTWVudSIsImlzQnVyZ2VyU2hvd24iLCJidXJnZXJDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJtYXAiLCJpdGVtIiwic2hvd0J1cmdlciIsImNsYXNzTGlzdCIsImFkZCIsImhpZGVCdXJnZXIiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicG9wYSIsImNsaWNrVHJpZ2dlciIsInBvcFdyYXAiLCJwb3AiLCJwb3BDbG9zZXIiLCJvZmZzZXRPbGQiLCJvZmZzZXROZXciLCJoZWFkZXIiLCJwYWdlWU9mZnNldCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJzZXRUaW1lb3V0IiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJtYXNrIiwiY3VycmVudFN0cmluZyIsInRoaXMiLCJjdXJyZW50TGVuZ3RoIiwiZm9vdGVyIiwicmVtb3ZlQ2hpbGQiLCJsYXp5WW1hcCIsIm1hcExvYWRlZCIsIm1hcEJsb2NrIiwic2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic3RhcnRMYXp5TWFwIiwibWFwc0RlbGF5IiwiX3N0ZXAiLCJhbmNob3JzIiwiX2l0ZXJhdG9yIiwiX2xvb3AiLCJhbmNob3IiLCJibG9ja0lEIiwic3Vic3RyIiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsMkJBQTJCQyxFQUFHQyxHQUFrQixJQUFJQyxFQUFJLEdBQXNCLG9CQUFYQyxRQUFnRCxNQUF0QkgsRUFBRUcsT0FBT0MsVUFBbUIsQ0FBRSxHQUFJQyxNQUFNQyxRQUFRTixLQUFPRSxFQUFLSyw0QkFBNEJQLEtBQU9DLEdBQWtCRCxHQUF5QixpQkFBYkEsRUFBRVEsT0FBcUIsQ0FBTU4sSUFBSUYsRUFBSUUsR0FBSSxJQUFJTyxFQUFJLEVBQU9DLEVBQUksYUFBaUIsTUFBTyxDQUFFQyxFQUFHRCxFQUFHRSxFQUFHLFdBQWUsT0FBSUgsR0FBS1QsRUFBRVEsT0FBZSxDQUFFSyxNQUFNLEdBQWUsQ0FBRUEsTUFBTSxFQUFPQyxNQUFPZCxFQUFFUyxPQUFXTSxFQUFHLFNBQVdDLEdBQU0sTUFBTUEsR0FBT0MsRUFBR1AsR0FBTyxNQUFNLElBQUlRLFVBQVUseUlBQTRJLElBQTZDQyxFQUF6Q0MsR0FBbUIsRUFBTUMsR0FBUyxFQUFZLE1BQU8sQ0FBRVYsRUFBRyxXQUFlVCxFQUFLRixFQUFFRyxPQUFPQyxhQUFnQlEsRUFBRyxXQUFlLElBQUlVLEVBQU9wQixFQUFHcUIsT0FBc0MsT0FBOUJILEVBQW1CRSxFQUFLVCxLQUFhUyxHQUFTUCxFQUFHLFNBQVdTLEdBQU9ILEdBQVMsRUFBTUYsRUFBTUss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QkFBZ0IsWUFDekJsQixRQUFRQyxJQUFJLGNBR2RrQixJQUdBakIsWUFBVyxXQUNWVyxhQUNFTyxXQVNKLElBR0lDLE1BSEVDLFFBQVU5QyxTQUFTMkIsaUJBQWlCLGdCQUV0Q29CLFVBQVkvRiwyQkFBRzhGLFNBR25CLElBQ0UsSUFBSUUsTUFBUSxXQUNWLElBTEtDLEVBS1FKLE1BQU05RSxNQUp0QmtGLEVBQU9wQyxpQkFBaUIsU0FBUyxTQUFVN0MsR0FDMUNBLEVBQUU4RCxpQkFDRixJQUFNb0IsRUFBVUQsRUFBT1IsYUFBYSxRQUFRVSxPQUFPLEdBQ25EbkQsU0FBU29ELGVBQWVGLEdBQVNHLGVBQWUsQ0FDN0NDLFNBQVUsU0FDVkMsTUFBTyxjQU5aLElBQUFSLFVBQUFuRixNQUFBaUYsTUFBQUUsVUFBQWxGLEtBQUFDLE1BQTRCa0YsUUFtQjFCLE1BQU81RSxHQUNQMkUsVUFBVS9FLEVBQUVJLEdBQ1osUUFDQTJFLFVBQVU3RSIsImZpbGUiOiJibG9ja3MvaGVhZGVyQW5kRm9vdGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTIwMCl7XG5cdGxldCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyJyk7XG5cdGxldCBidXJnZXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1tZW51Jyk7XG5cdGxldCBpc0J1cmdlclNob3duID0gZmFsc2U7XG5cdGxldCBidXJnZXJDb250ZW50ID0gWycuc29jaWFscycsICcuaGVhZGVyLWVtYWlsJywgJy5oZWFkZXItcGhvbmUnLCAnLmhlcm8tbGVhcm5pbmcnXTtcblxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW5hdicpLmFwcGVuZENoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbGlzdCcpKVxuXHRidXJnZXJDb250ZW50Lm1hcChpdGVtID0+IHtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWNvbnRhY3RzJykuYXBwZW5kQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpdGVtKSlcblx0fSlcblxuXG5cdGNvbnN0IHNob3dCdXJnZXIgPSAoKSA9PiB7XG5cdFx0YnVyZ2VyLmNsYXNzTGlzdC5hZGQoJ2J1cmdlci0tc2hvd24nKTtcblx0XHRidXJnZXJNZW51LmNsYXNzTGlzdC5hZGQoJ2J1cmdlci1tZW51LS1zaG93bicpO1xuXHRcdGlzQnVyZ2VyU2hvd24gPSB0cnVlO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QuYWRkKCdwb3Atb3BlbmVkLS1odG1sJyk7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLS1idXJnZXItc2hvd24nKTtcblx0fVxuXG5cdGNvbnN0IGhpZGVCdXJnZXIgPSAoKSA9PiB7XG5cdFx0YnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2J1cmdlci0tc2hvd24nKTtcblx0XHRidXJnZXJNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2J1cmdlci1tZW51LS1zaG93bicpO1xuXHRcdGlzQnVyZ2VyU2hvd24gPSBmYWxzZTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuY2xhc3NMaXN0LnJlbW92ZSgncG9wLW9wZW5lZC0taHRtbCcpO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItLWJ1cmdlci1zaG93bicpO1xuXHR9XG5cblx0YnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHQhaXNCdXJnZXJTaG93blxuXHRcdFx0PyBzaG93QnVyZ2VyKClcblx0XHRcdDogaGlkZUJ1cmdlcigpXG5cdH0pXG59XG5cbi8vIHBvcGEoe1xuLy8gICBjbGlja1RyaWdnZXI6ICcuaGVhZGVyX2dldC1jb25zdWx0Jyxcbi8vICAgcG9wV3JhcDogJy5jb25zdWx0LXBvcC13cmFwJyxcbi8vICAgcG9wOiAnLmNvbnN1bHQtcG9wJyxcbi8vICAgcG9wQ2xvc2VyOiAnLnBvcC1jbG9zZXInLFxuLy8gfSlcbnBvcGEoe1xuXHRjbGlja1RyaWdnZXI6ICcuZm9vdGVyX2dldC1jb250YWN0cycsXG5cdHBvcFdyYXA6ICcuY29uc3VsdC1wb3Atd3JhcCcsXG5cdHBvcDogJy5jb25zdWx0LXBvcCcsXG5cdHBvcENsb3NlcjogJy5wb3AtY2xvc2VyJyxcbn0pXG5cblxuXG5jb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLXdyYXBwZXInKVxuXG5sZXQgb2Zmc2V0T2xkXG5sZXQgb2Zmc2V0TmV3XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbigpe1xuXHRvZmZzZXROZXcgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cdGlmICgob2Zmc2V0TmV3IDwgb2Zmc2V0T2xkKSAmJiBvZmZzZXRPbGQgIT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29uc29sZS5sb2coJ9Co0LDQv9C60LAg0L/QvtGP0LLQuNC70LDRgdGMJylcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLS1oaWRkZW4nKVxuXHRcdFx0aGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci0tdmlzaWJsZScpXG5cdFx0fSwgNTAwKVxuXHR9IGVsc2Uge1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItLXZpc2libGUnKVxuXHRcdFx0aGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci0taGlkZGVuJylcblx0XHR9LCAxMDApXG5cdH1cblx0b2Zmc2V0T2xkID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xufSlcblxuXG5cblxuc2V0VGltZW91dCgoKSA9PiB7XG5cdGxldCBwaG9uZUlucHV0ID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC0tcGhvbmUnKV07XG5cblx0cGhvbmVJbnB1dC5tYXAoaXRlbSA9PiB7XG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFx0aWYgKCEoZXZlbnQua2V5ID09ICdBcnJvd0xlZnQnIHx8IGV2ZW50LmtleSA9PSAnQXJyb3dSaWdodCcgfHwgZXZlbnQua2V5ID09ICdCYWNrc3BhY2UnIHx8IGV2ZW50LmtleSA9PSAnVGFiJykpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdFx0fVxuXHRcdFx0bGV0IG1hc2sgPSAnKzcgKDExMSkgMTExLTExLTExJztcblx0XHRcdGlmICgvWzAtOVxcK1xcIFxcLVxcKFxcKV0vLnRlc3QoZXZlbnQua2V5KSkge1xuXHRcdFx0XHRsZXQgY3VycmVudFN0cmluZyA9IHRoaXMudmFsdWU7XG5cdFx0XHRcdGxldCBjdXJyZW50TGVuZ3RoID0gY3VycmVudFN0cmluZy5sZW5ndGg7XG5cdFx0XHRcdGlmICgvWzAtOV0vLnRlc3QoZXZlbnQua2V5KSkge1xuXHRcdFx0XHRcdGlmIChtYXNrW2N1cnJlbnRMZW5ndGhdID09ICcxJykge1xuXHRcdFx0XHRcdFx0dGhpcy52YWx1ZSA9IGN1cnJlbnRTdHJpbmcgKyBldmVudC5rZXk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSBjdXJyZW50TGVuZ3RoOyBpIDwgbWFzay5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0XHRpZiAobWFza1tpXSA9PSAnMScpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnZhbHVlID0gY3VycmVudFN0cmluZyArIGV2ZW50LmtleTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjdXJyZW50U3RyaW5nICs9IG1hc2tbaV1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHR9KVxufSwgMzAwMClcblxuXG5cbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEyMDApe1xuXHQvLyBNb2JpbGUgZm9vdGVyIHJlZm9ybWluZ1xuXHRsZXQgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpO1xuXHRmb290ZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlci1jb3B5cmlnaHQnKSk7XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItdG9wX19jb250ZW50JykuYXBwZW5kQ2hpbGQoZm9vdGVyLnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItY29udGFjdC0tcGhvbmUnKSk7XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItdG9wX19jb250ZW50JykuYXBwZW5kQ2hpbGQoZm9vdGVyLnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfZ2V0LWNvbnRhY3RzJykpO1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLWNvcHlyaWdodCcpLnJlbW92ZUNoaWxkKGZvb3Rlci5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLWNvcHlyaWdodCBicicpKVxufVxuXG5cbi8vIE1hcFxuY29uc3QgbGF6eVltYXAgPSAoKSA9PiB7XG5cdGxldCBtYXBDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1tYXAnKTtcblx0bGV0IG9wdGlvbnNNYXAgPSB7XG5cdFx0b25jZTogdHJ1ZSxcblx0XHRwYXNzaXZlOiB0cnVlLFxuXHRcdGNhcHR1cmU6IHRydWVcblx0fTtcblx0Ly8gbWFwQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJylcblxuXHRsZXQgbWFwTG9hZGVkID0gZmFsc2U7XG5cdGZ1bmN0aW9uIHN0YXJ0TGF6eU1hcCgpe1xuXHRcdGlmICghbWFwTG9hZGVkKSB7XG5cdFx0XHRsZXQgbWFwQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueW0tbGF6eScpO1xuXHRcdFx0bWFwTG9hZGVkID0gdHJ1ZTtcblx0XHRcdG1hcEJsb2NrLnNldEF0dHJpYnV0ZSgnc3JjJywgbWFwQmxvY2suZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpKTtcblx0XHRcdG1hcEJsb2NrLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YV9zcmMnKTtcblx0XHRcdGNvbnNvbGUubG9nKCdZbSBsb2FkZWQnKVxuXHRcdH1cblx0fVxuXHRzdGFydExhenlNYXAoKVxufVxuXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRsYXp5WW1hcCgpXG5cdH0sIG1hcHNEZWxheSlcblxuXG5cblxuXG5cblxuXG5jb25zdCBhbmNob3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmKj1cIiNcIl0nKVxuXG5mb3IgKGxldCBhbmNob3Igb2YgYW5jaG9ycykge1xuXHRhbmNob3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdGNvbnN0IGJsb2NrSUQgPSBhbmNob3IuZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyKDEpXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmxvY2tJRCkuc2Nyb2xsSW50b1ZpZXcoe1xuXHRcdFx0ICBiZWhhdmlvcjogJ3Ntb290aCcsXG5cdFx0XHQgIGJsb2NrOiAnc3RhcnQnXG5cdFx0fSlcblx0fSlcbn1cblxuIl19
